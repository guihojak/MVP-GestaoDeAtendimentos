<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>MVP - GestÃ£o de Atendimento</title>
  <style>
  @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
  @keyframes slideUp { from {transform:translateY(30px);opacity:0;} to {transform:translateY(0);opacity:1;} }

  :root{
    --bg:#f5f7fb;
    --card:#ffffff;
    --text:#1a1c22;
    --muted:#6b7280;
    --accent:#2563eb;
    --ok:#10b981;
    --danger:#ef4444;
    --radius:14px;
    --shadow-soft:0 4px 16px rgba(15, 23, 42, 0.08);
  }

  *{ box-sizing:border-box; margin:0; padding:0; }

  body{
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:var(--bg);
    color:var(--text);
    min-height:100vh;
    width:100%;
    margin:0;
    padding:0;
    display:block;
  }

  /* Container principal */
  .app{
    width:100%;
    max-width:480px;
    margin:0 auto;
    padding:28px 18px 40px;
  }

  header{
    margin-bottom:24px;
  }
  header h1{
    font-size:24px;
    font-weight:700;
    margin-bottom:6px;
  }
  header .small{
    font-size:13px;
    color:var(--muted);
  }

  .card{
    background:var(--card);
    border-radius:var(--radius);
    padding:22px 18px;
    box-shadow:var(--shadow-soft);
    margin-bottom:24px;
  }

  /* FormulÃ¡rio */
  form{
    display:flex;
    flex-direction:column;
    gap:14px;
    padding:18px;
    background:#fff;
    border-radius:var(--radius);
    margin-bottom:18px;
  }
  input[type=text], input[type=date]{
    width:100%;
    padding:14px 16px;
    border-radius:12px;
    border:1px solid rgba(0,0,0,0.08);
    font-size:15px;
    background:#fafbfd;
  }

  button[type=submit]{
  width:100%;
  padding:16px;
  border-radius:14px;
  border:0;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 4px 14px rgba(37,99,235,0.25);
  transition:background-color .2s ease, box-shadow .2s ease, transform .15s ease;
}

button[type=submit]:hover{
  background-color:#1e4fd6; /* variaÃ§Ã£o mais escura */
  box-shadow:0 6px 18px rgba(37,99,235,0.38);
}

button[type=submit]:active{
  transform:scale(.97);
  box-shadow:0 3px 10px rgba(37,99,235,0.25);
}

/* BotÃ£o principal (Adicionar) */
button[type=submit]{
  width:100%;
  padding:16px;
  border-radius:14px;
  border:0;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  box-shadow:0 4px 14px rgba(37,99,235,0.25);
  transition:background-color .2s ease, box-shadow .2s ease, transform .15s ease;
}
button[type=submit]:hover{
  background-color:#1e4fd6;
  box-shadow:0 6px 18px rgba(37,99,235,0.38);
}
button[type=submit]:active{
  transform:scale(.97);
  box-shadow:0 3px 10px rgba(37,99,235,0.25);
}

/* Botes menores de aÃ§Ã£o Marcar  Desmarcar Remover) */
.btn-ghost{
  padding:6px 10px;      
  border-radius:8px;     
  border:1px solid rgba(0,0,0,0.08);
  background:#fff;
  font-size:13px;        
  cursor:pointer;
  color:var(--text);
  transition:all .15s ease;
}

.btn-ghost:hover{
  background:#f5f6f7;
  box-shadow:0 1px 6px rgba(0,0,0,0.04);
}
.btn-ghost:active{
  transform:scale(.97);
}

/* Remover: menor e mais discreto */
.btn-remove{
  color:var(--danger);
  border:1px solid rgba(239,68,68,0.3);
}
.btn-remove:hover{
  background:rgba(239,68,68,0.06);
  box-shadow:0 1px 6px rgba(239,68,68,0.15);
}
.btn-remove:active{ transform:scale(.96); }

/* BotÃ£o fantasma - Limpar todos */
#clear{
  background:transparent;
  border:1px solid rgba(0,0,0,0.15);
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-size:13px;
  color:var(--muted);
  transition:all .15s ease;
}
#clear:hover{
  background:#f1f3f5;
  box-shadow:0 2px 10px rgba(0,0,0,0.05);
}



  /* Filtros */
  .filters{
    display:flex;
    gap:14px;
    margin-bottom:16px;
    font-size:13px;
    flex-wrap:wrap;
  }

  /* Lista */
  .list{ margin-top:12px; }

  .item{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:16px;
    border-radius:12px;
    margin-bottom:14px;
    background:#fff;
    border:1px solid rgba(0,0,0,0.03);
    box-shadow:var(--shadow-soft);
  }

  .item.checked{
    background:rgba(16,185,129,0.06);
    border-left:6px solid var(--ok);
  }

  .dot{
    min-width:48px;
    height:48px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    font-size:15px;
    background:linear-gradient(180deg,#eef7ff,#ffffff);
    color:var(--accent);
  }

  .actions{ display:flex; gap:10px; }

  .modal{
    position:fixed;
    top:0;left:0;right:0;bottom:0;
    background:rgba(0,0,0,0.55);
    display:flex;
    justify-content:center;
    align-items:center;
    padding:16px;
    animation:fadeIn 0.3s;
  }

  .modal-content{
    width:100%;
    max-width:360px;
    background:#fff;
    padding:22px;
    border-radius:16px;
  }

  /* Responsividade */
  @media (max-width:480px){
    .app{ padding:24px 12px; }
    header h1{ font-size:21px; }
    .dot{ min-width:44px; height:44px; }
    input[type=text], input[type=date]{ padding:12px; }
    button[type=submit]{ padding:12px; }
    .item{ padding:14px; }
  }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>MVP â€” GestÃ£o de Atendimento</h1>
      <div class="small">Responsivo â€¢ LocalStorage</div>
    </header>
    <section class="card">
      <form id="form">
        <input id="name" type="text" placeholder="Nome do cliente" required autocomplete="off" />
        <input id="date" type="date" required />
        <button type="submit">Adicionar</button>
      </form>

      <div class="filters small">
        <label><input type="radio" name="filter" value="all" checked /> Todos</label>
        <label><input type="radio" name="filter" value="open" /> NÃ£o atendidos</label>
        <label><input type="radio" name="filter" value="done" /> Atendidos</label>
      </div>

      <div id="list" class="list"></div>

      <div class="count-row">
        Registros: <span id="count">0</span>
        <button id="clear" class="btn-ghost">ðŸ—‘ Limpar todos</button>
      </div>
    </section>
  </div>
  <script>
    const KEY='mvp_atendimentos_v1'
    const form=document.getElementById('form')
    const nameInput=document.getElementById('name')
    const dateInput=document.getElementById('date')
    const listEl=document.getElementById('list')
    const countEl=document.getElementById('count')
    const clearBtn=document.getElementById('clear')

    let items=load()
    function load(){try{const raw=localStorage.getItem(KEY);return raw?JSON.parse(raw):[]}catch(e){return[]}}
    function save(){localStorage.setItem(KEY,JSON.stringify(items))}

    function addItem(name,date){
      const id=Date.now().toString(36)
      items.unshift({id,name,date,done:false})
      save();render()
    }
    function toggleDone(id){
      const i=items.findIndex(x=>x.id===id)
      if(i>=0){items[i].done=!items[i].done;save();render()}
    }
    function removeItem(id){items=items.filter(x=>x.id!==id);save();render()}
    function clearAll(){if(!confirm('Apagar todos?'))return;items=[];save();render()}
    function formatDate(d){const dt=new Date(d+'T00:00:00');return dt.toLocaleDateString('pt-BR')}
    function getFilter(){const f=document.querySelector('input[name=filter]:checked');return f?f.value:'all'}
    function escapeHtml(s){return String(s).replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]))}

    function render(){
      const filter=getFilter()
      const show=items.filter(it=>filter==='all'?true:(filter==='done'?it.done:!it.done))
      listEl.innerHTML='';countEl.textContent=show.length
      if(show.length===0){listEl.innerHTML='<div class="small">Nenhum registro.</div>';return}
      show.forEach(it=>{
        const el=document.createElement('div')
        el.className='item'+(it.done?' checked':'')
        el.innerHTML=`
          <div class="left">
            <div class="dot">${it.name.slice(0,2).toUpperCase()}</div>
            <div class="meta">
              <div class="name">${escapeHtml(it.name)}</div>
              <div class="date">${formatDate(it.date)}</div>
            </div>
          </div>
          <div class="actions">
            <button class="btn-ghost" data-action="toggle" data-id="${it.id}">${it.done?'â†º Desmarcar':'âœ“ Marcar'}</button>
            <button class="btn-ghost btn-remove" data-action="remove" data-id="${it.id}">ðŸ—‘ Remover</button>
          </div>`
        listEl.appendChild(el)
      })
    }

    form.addEventListener('submit',e=>{
      e.preventDefault()
      const name=nameInput.value.trim()
      const date=dateInput.value
      if(!name||!date)return alert('Preencha todos os campos')
      addItem(name,date)
      nameInput.value='';dateInput.value='';nameInput.focus()
    })
    listEl.addEventListener('click',e=>{
      const btn=e.target.closest('button')
      if(!btn)return
      const action=btn.getAttribute('data-action')
      const id=btn.getAttribute('data-id')
      if(action==='toggle')toggleDone(id)
      if(action==='remove')removeItem(id)
    })
    document.querySelectorAll('input[name=filter]').forEach(r=>r.addEventListener('change',render))
    clearBtn.addEventListener('click',clearAll)
    render()
  </script>
</body>
</html>
